<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: OpenCPN Manuals</title>
    <link rel="canonical" href="https://opencpn-manuals.github.io/plugins/autotrackraymarine/0.1/index.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="navbar-brand">
      <div class="ocpn-logo"> </div>
      <a class="navbar-title"
         href="https://opencpn-manuals.github.io/plugins"
      >
        OpenCPN Manuals
        </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
              <a class="navbar-item" href="https://www.opencpn.org/">
                OpenCPN.org
              </a>
              <a class="navbar-item" href="https://opencpn.org/wiki/dokuwiki/doku.php?id&#x3D;opencpn:opencpn_user_manual">
                User Manual
              </a>
              <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
                Github Site
              </a>
              <a class="navbar-item" href="https://opencpn.org/flyspray/">
                Bugtracker
              </a>
              <a class="navbar-item" href="https://opencpn-manuals.github.io/plugins/">
                Plugin Manual (WIP)
              </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="autotrackraymarine" data-version="0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">autotrackraymarine</span>
    <span class="version">0.1</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../ais_radar_display/0.1/ais_radar_display.html">ais_radar_display</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ais_radar_display/0.1/ais_radar_display.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">autotrackraymarine</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../chartscale/0.1/chartscale.html">chartscale</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../chartscale/0.1/chartscale.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../debugger/0.1/index.html">debugger</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../debugger/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../deviation/0.1/index.html">Deviation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../deviation/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../dead_reckoning/0.1/dead_reckoning.html">DR</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../dead_reckoning/0.1/dead_reckoning.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../earthexplorer/0.1/earthexplorer.html">EarthExplorer</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../earthexplorer/0.1/earthexplorer.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../engine-dash/0.1/index.html">EngineDashboard</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../engine-dash/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../googleearth/0.1/index.html">Google Earth</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../googleearth/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../iacfleet/0.1/index.html">iacfleet</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../iacfleet/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../launcher/0.1/index.html">launcher</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../launcher/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../nmea_converter/0.1/index.html">NMEA Converter</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../nmea_converter/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../objsearch/0.1/objsearch.html">objsearch</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../objsearch/0.1/objsearch.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../odometer/0.1/index.html">odometer</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../odometer/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../oesenc/0.1/index.html">oesenc</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../oesenc/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../opencpn-beta-plugins/0.1/index.html">OpenCPN Beta Plugins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../opencpn-beta-plugins/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../opencpn-plugins/0.1/index.html">OpenCPN Plugins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../opencpn-plugins/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../otcurrent/0.1/otcurrent.html">otcurrent</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../otcurrent/0.1/otcurrent.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../otidalplan/0.1/otidalplan.html">otidalplan</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../otidalplan/0.1/otidalplan.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../photolayer/0.1/photolayer.html">PhotoLayer</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../photolayer/0.1/photolayer.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../race-start/0.1/index.html">RaceStart</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../race-start/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../radar/0.1/index.html">Radar Manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../radar/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../s63_vector_charts/0.1/index.html">s63_vector_charts</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../s63_vector_charts/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sailawaynmea/0.1/sailawaynmea.html">SailawayNMEA</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sailawaynmea/0.1/sailawaynmea.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../sar/0.1/sar.html">SAR</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../sar/0.1/sar.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../shipdriver/0.1/shipdriver.html">ShipDriver</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../shipdriver/0.1/shipdriver.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../survey/0.1/survey.html">Survey</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../survey/0.1/survey.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../tidefinder/0.1/tidefinder.html">TideFinder</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../tidefinder/0.1/tidefinder.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../twocan/0.1/index.html">TwoCan Plugin</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../twocan/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../uktides/0.1/uktides.html">UKtides</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../uktides/0.1/uktides.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../vdr/0.1/index.html">vdr</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../vdr/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../vfkaps/0.1/index.html">vfkaps</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../vfkaps/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../watchdog/2.4.29/watchdog.html">Watchdog</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../watchdog/2.4.29/watchdog.html">2.4.29</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../opencpn-plugins/0.1/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/opencpn-manuals/AutoTrackRaymarine_pi/edit/master/manual/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_autotrackraymarine"><a class="anchor" href="#_autotrackraymarine"></a>AutoTrackRaymarine</h2>
<div class="sectionbody">
<div class="paragraph">
<p>by Douwe Fokkema</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/douwefokkema/AutoTrackRaymarine_pi">Github
Repository</a></p>
</li>
<li>
<p><a href="http://www.cruisersforum.com/forums/f134/autotrackraymarine_pi-remote-control-and-route-following-for-evolution-pilots-225322.html">Cruiser
Forum Thread</a> AutoTrackRaymarine_pi Remote control and route following
for Evolution pilots</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Will provide remote control of a Raymarine Evolution autopilot from
OpenCPN and route following for complex routes from start to finish.</p>
</div>
<div class="paragraph">
<p>So you make up your route in OpenCPN. Activate it. Cast off. Put the
ship on course. Press Auto on the Raymarine P70 pilot head. Pilot takes
over as usual. Press auto again: the plugin takes control of the
autopilot and will steer your ship along the activated route to your
destination. Following the route with a margin (XTE) normally less than
2 meters, independent of cross currents and compass errors. Only thing
to do is keep a lookout for obstacles and traffic. As soon as you press
Standby the autopilot returns to standby and you can steer manually
again. When you press one of the buttons +/- 1 or 10, pilot will switch
to regular auto on the last heading plus the button you pressed. Auto
button when pilot is in auto activates the tracking again.</p>
</div>
<div class="paragraph">
<p>Alternatively this may be handled from the plugin window on the OpenCPN
screen, see attached image.</p>
</div>
<div class="paragraph">
<p>The Auto, Standby and +/- buttons work as usual with your Evolution
pilot. On top of this comes the Tracking button which is enabled only
when a route is active. It will make you follow the active route as
described below. Buttons are large for easy use on touch screens.</p>
</div>
<div class="paragraph">
<p>To use the plugin you need an Actisense NGT-1 to connect to the Raymarine
Raytalk-ng network, which is an nmea 2000 network with lots of
proprietary pgn&#8217;s. Some of these are decoded to get access to the
required functions. The current code (Windows only) can be found at
<a href="https://github.com/douwefokkema/AutoTrackRaymarine_pi" class="bare">https://github.com/douwefokkema/AutoTrackRaymarine_pi</a> . This version works
fine with OpenCPN version 5.2 and later.</p>
</div>
<div class="paragraph">
<p>If you want to use this plugin, at
At <a href="https://www.dropbox.com/s/kh87usvy1otrrlp/AutoTrackRaymarine_pi-0.0.0-ov50-win32.exe?dl=0" class="bare">https://www.dropbox.com/s/kh87usvy1otrrlp/AutoTrackRaymarine_pi-0.0.0-ov50-win32.exe?dl=0</a>
you will find the installer for AutoTrackRaymarine_pi.</p>
</div>
<div class="paragraph">
<p>In preferences, set the serial port number of your Actisense NGT-1. You
may forget about the rest. For the technically interested, the plugin is
using a PID based steering function that calculates corrections on the
Bearing to Waypoint (BTW) based on the XTE as received from OpenCPN. It
normally sticks to the route within 2 meters, on heading changes at
waypoints it may overshoot a little. With large compass errors or strong
cross currents, it may take a minute or so to settle down on the track.</p>
</div>
<div class="paragraph">
<p>This plugin was inspired by and may use code from autopilot_route_pi,
Autopilot-Plugin and Canboat (for controlling the Actisense NGT-1).</p>
</div>
<div class="paragraph">
<p>Warning: this plugin may take full control of your autopilot. In case of
system or software errors be ready to switch the autopilot off (never
happened).</p>
</div>
<div class="paragraph">
<p>This plugin also functios a remote control with the possibility to set the autopilot to
Auto/Standby and to adjust the heading set. The wireless remote control
that Raymarine provides is too expensive and rather old fashioned,
connected through the old Seatalk with a converter that caused all kinds
of problems.
The Track function on the autopilot is difficult or impossible to use
with OpenCPN. It needs data from O, but whatever you send it, after some
time it switches off with a “No data” message. I have the impression it
requires a Raymarine display to function.
When the Raymarine track function does work, it behaves very
erratically at startup, steering crazy headings for some minutes, then
stabilizing on the right track. Further it requires confirmation at
every waypoint, which is not practical when you have routes with
hundreds of waypoints often very close together.</p>
</div>
<div class="paragraph">
<p>To do a better job one needs to control the autopilot for at least the
following functions: set heading, set auto/standby. I have decoded the
communication of the autopilot with the pilot head and deciphered the
proprietary pgn&#8217;s that perform these functions. With this I have build a
plugin for OpenCPN that provides a remote control for the autopilot and a
route following function. The plugin is using a Actisense NGT-1 for the
communication with the NMEA2000 network of Raymarine. The plugin is also
monitoring the keystrokes on the Raymarine P70 pilot head and acts on
that to activate the route following. When the plugin observes that the
auto is pressed while the pilot is on auto already, the plugin activates
the route following. Further details on this plugin:
<a href="https://www.cruisersforum.com/forums/f134/autotrackraymarine_pi-remote-control-and-route-following-for-evolution-pilots-225322-2.html" class="bare">https://www.cruisersforum.com/forums/f134/autotrackraymarine_pi-remote-control-and-route-following-for-evolution-pilots-225322-2.html</a></p>
</div>
<div class="paragraph">
<p>Note: The PGN&#8217;s I am using to control the Raymarine pilot are
proprietary and don&#8217;t have nmea183 equivalents. So I don not see how a
SignalK server can do a conversion. Further I have no need of a
conversion, my plugin is working and tested during a full sailing
season. To follow a route I do not need the full route in the plugin. I
just use the DTW, BTW and XTE for the current leg, that is sufficient to
steer on track. Reason I needed an update in O is that the accuracy of
the XTE in the nmea183 message lacks precision. I want to steer within
meters from the track, limited only by the accuracy provided by the GPS</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
